<div class="context-menu-wrapper"
	 *ngIf="clickMenuProps"
	 [style.top.px]="clickMenuProps.boundingRect.top"
	 [style.width.px]="clickMenuProps .boundingRect.width"
	 [style.height.px]="clickMenuProps.boundingRect.height"
	 [style.left.px]="clickMenuProps.boundingRect.left"
	 [clickEventType]="['pointerdown', 'mousedown']"
	 (ansynClickOutside)="close()">
	<!-- Using pointerdown for current Chrome, and mousedown for Chrome 44 -->

	<div class="context-menu" [style.outline-color]="clickMenuProps?.style?.initial['stroke']">
		<ul class="buttons">
			<li>
				<button [class.active]="clickMenuProps.showMeasures" (click)="toggleMeasures()"><i
					class="icon-tools-ruler" tooltip-value="Measures" tooltip-class="bottom"></i></button>
			</li>
			<li>
				<button [class.active]="selectedTab === Tabs.Label" (click)="selectTab(Tabs.Label)"><i
					class="icon-annotation-label" tooltip-value="Label" tooltip-class="bottom"></i>
				</button>

				<form class="annotation-label-edit"
					  *ngIf="selectedTab === Tabs.Label"
					  (ngSubmit)="labelInput.blur()">

					<mat-form-field class="label-form-field">
						<input matInput
							   type="text"
							   #labelInput
							   autofocus
							   placeholder="Label"
							   name="EditLabel"
							   [ngModel]="clickMenuProps.label"
							   (ngModelChange)="updateLabel($event)">
					</mat-form-field>

					<!--<input class="label-input" type="text" placeholder="Label"-->
						   <!--[(ngModel)]="clickMenuProps.label"-->
						   <!--(ngModelChange)="updateLabel($event)"-->
						   <!--name="EditLabel">-->
				</form>
			</li>
			<li class="expanded-selection line-width-selection">
				<p>
					<button [class.active]="selectedTab === Tabs.Weight" (click)="selectTab(Tabs.Weight)"><i
						class="icon-annotation-weight" tooltip-value="Width" tooltip-class="bottom"></i></button>
					<ansyn-annotations-weight
						[show]="selectedTab === Tabs.Weight"
						[properties]="clickMenuProps.style.initial"
						(selectLineWidth)="selectLineWidth($event.width)">
					</ansyn-annotations-weight>
				</p>
			</li>
			<li>
				<p>
					<button [class.active]="selectedTab === Tabs.Colors" (click)="selectTab(Tabs.Colors)">
						<i class="icon-annotation-color" tooltip-value="Color" tooltip-class="bottom"></i>
					</button>
					<ansyn-annotations-color
						[show]="selectedTab === Tabs.Colors"
						[properties]="clickMenuProps.style.initial"
						(colorChange)="colorChange($event)"
						(activeChange)="activeChange($event)"
					></ansyn-annotations-color>
				</p>
			</li>

			<li>
					<button class='removeFeature' (click)="removeFeature()">
						<i class="icon-close-big" tooltip-value="Delete" tooltip-class="bottom"></i>
					</button>
			</li>
		</ul>
	</div>

	<!--<form class="annotation-label-edit" (ngSubmit)="close()" *ngIf="selectedTab === Tabs.Label">-->
		<!--<input class="label-input" type="text" placeholder="Label"-->
			   <!--[(ngModel)]="clickMenuProps.label"-->
			   <!--(ngModelChange)="updateLabel($event)"-->
			   <!--name="EditLabel">-->
		<!--<i (click)="updateLabel()" class="icon-edit"></i>-->
	<!--</form>-->


</div>

<div class="context-menu-wrapper"
	 *ngIf="hoverMenuProps"
	 [style.top.px]="hoverMenuProps.boundingRect.top"
	 [style.width.px]="hoverMenuProps .boundingRect.width"
	 [style.height.px]="hoverMenuProps.boundingRect.height"
	 [style.left.px]="hoverMenuProps.boundingRect.left">
	<div class="context-menu" [style.outline-color]="hoverMenuProps?.style?.initial['stroke']"></div>
</div>
