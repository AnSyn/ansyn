<div class="buttons" *ngIf="!isMinimalistViewMode">

	<ng-container
		*ngFor="let component of entryComponents.status">
		<ng-container
			*ngIf="component.showFirst && component.prototype.getType() === 'buttons'"
			[ansynEntryComponent]="{ component: component , mapId: mapId }">
		</ng-container>
	</ng-container>

	<button
		*ngIf="mapsAmount > 1"
		class="small-icon-button drag-me"
		[attr.tooltip-value]="'Move' | translate"
		tooltip-class="bottom right"
		(mousedown)="onMove.emit($event)">
		<i class="icon-drag-maps"></i>
	</button>

	<button *ngIf="mapsAmount > 1"
			class="small-icon-button link-maps"
			[attr.tooltip-value]="'Momentarily link screens' | translate"
			tooltip-class="bottom right"
			[disabled]="noGeoRegistration"
			(click)="toggleMapSynchronization.emit()">
		<i class="icon icon-temporary-link"></i>
	</button>

	<button class="small-icon-button hide-layers"
			[disabled]="noGeoRegistration"
			(click)="toggleMapLayers()"
			[attr.tooltip-value]="'Show/ Hide layers' | translate"
			tooltip-class="bottom right">
		<i [class.icon-layers-show]="!hideLayers"
		   [class.icon-layers-hide]="hideLayers"></i>
	</button>

	<button tooltip-class="bottom right"
			class="small-icon-button link-maps"
			[attr.tooltip-value]="'Automatic Processing - Grayscale Images Only' | translate"
			(click)="toggleAutoImageProcessing()"
			[class.mode-on]="onAutoImageProcessing && !imageProcessingDisabled"
			[disabled]="imageProcessingDisabled">
		<i class="icon-automatic-image-processing"></i>
	</button>

	<div class="image-manual-processing">
		<button tooltip-class="right"
				[attr.tooltip-value]="'Manual Image Enhancement' | translate"
				(click)="toggleSubMenu(subMenuEnum.manualImageProcessing)"
				[class.mode-on]="isImageControlActive && !imageManualProcessingDisabled"
				[class.active]="isExpand(subMenuEnum.manualImageProcessing) && !imageManualProcessingDisabled"
				[disabled]="imageManualProcessingDisabled">
			<i class="icon-tools-image-processing"></i>
		</button>
		<ansyn-image-processing-control
			[expand]="isExpand(subMenuEnum.manualImageProcessing) && !onAutoImageProcessing "></ansyn-image-processing-control>
	</div>

	<ng-container
		*ngFor="let component of entryComponents.status">
		<ng-container
			*ngIf="!component.showFirst && component.prototype.getType() === 'buttons'"
			[ansynEntryComponent]="{ component: component , mapId: mapId }">
		</ng-container>
	</ng-container>
</div>

<div class="description">
	<ansyn-popover *ngIf="overlay" [text]="overlayDescription"
				   [popDirection]="'bottom wrap'">
		<button class="share-link" (click)="copyOverlayDescription()">
			<span>{{overlayDescription | translate}}</span>
		</button>
	</ansyn-popover>
	<div *ngIf="!overlay">
		{{baseMapDescription | translate}}
	</div>
</div>


<ng-container *ngIf="!isMinimalistViewMode">
	<ng-container
		*ngFor="let component of entryComponents.status">
		<ng-container
			*ngIf="component.prototype.getType() === 'notification'"
			[ansynEntryComponent]="{ component: component , mapId: mapId }">
		</ng-container>
	</ng-container>
</ng-container>
