<div class="imagery" #imageryViewContainer (mouseleave)="mouseLeave()" (mouseenter)="mouseEnter()"
	 [style.visibility]="(isHidden$ | async) ? 'hidden' : 'visible'">
	<ansyn-imagery-status *ngIf="showStatus"
						  class="with-background"
						  [mapId]="mapState.id"
						  [overlay]="overlay"
						  [active]="active"
						  [layerFlag]="mapState.flags.displayLayers"
						  [mapsAmount]="mapsAmount"
						  (onMove)="onMove.emit($event)"
						  (toggleMapSynchronization)="toggleMapSynchronization()">
	</ansyn-imagery-status>

	<ansyn-imagery-tile-progress [mapId]="mapState.id" [lowered]="showStatus && active"></ansyn-imagery-tile-progress>

	<ansyn-imagery-rotation [mapState]="mapState"></ansyn-imagery-rotation>

	<ansyn-imagery-view [settings]="mapState"></ansyn-imagery-view>

	<ansyn-annotations-context-menu [mapId]="mapState.id"></ansyn-annotations-context-menu>

	<ansyn-imagery-loader [mapId]="mapState.id"></ansyn-imagery-loader>

	<ansyn-overlay-source-type-notice [overlay]="overlay"></ansyn-overlay-source-type-notice>

	<ansyn-map-search-box *ngIf="packageConfig?.mapSearch?.active && !overlay"
						  [mapId]="mapState.id"></ansyn-map-search-box>

	<ansyn-sentinel-combo-box *ngIf="overlay && overlay.sourceType === 'SENTINEL'" [mapId]="mapState.id"></ansyn-sentinel-combo-box>
</div>
