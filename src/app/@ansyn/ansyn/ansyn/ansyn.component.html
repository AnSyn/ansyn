<div class="app animations" [ngClass]="(isPinnedClass$ | async)" [attr.dir]="isRTL ? 'rtl' : 'ltr'">
	<!-- the 'dir' attribute will affect Angular Material components -->
	<div class="menu">
		<ansyn-menu [version]="version" [animatedElement]="animatedElementHorizontal"></ansyn-menu>
	</div>

	<div class="status" [class.expand]="(isMenuCollapse$ | async)" [class.hide-status-bar]="(hideStatus$ | async)">
		<ansyn-status-bar></ansyn-status-bar>
	</div>

	<div class="layer" #animatedElementHorizontal>

		<div class="maps-container" #animatedElementVertical [class.hide-status-bar]="(hideStatus$ | async)">
			<ansyn-imageries-manager></ansyn-imageries-manager>
			<ansyn-context-menu *ngIf="renderContextMenu"></ansyn-context-menu>
		</div>

		<button [class.active]="toggleResults" class="results-table" (click)="toggleResultsTable()">
			<i class="icon-table"></i>
			<span class="badge">{{overlaysCount$ | async}}</span>
			<span class="results-title">{{'Search results' | translate}}</span>
		</button>

		<ansyn-results class="results" *ngIf="toggleResults"></ansyn-results>

		<ansyn-footer
			[activeMap]="(activeMap$ | async)"
			[animatedElement]="animatedElementVertical"
		></ansyn-footer>
	</div>
</div>

<ansyn-overlay-overview></ansyn-overlay-overview>

<ng-container *ngIf="!componentMode">
	<router-outlet></router-outlet>
</ng-container>

<!-- App overlays -->
<ansyn-toast [duration]="4"></ansyn-toast>

