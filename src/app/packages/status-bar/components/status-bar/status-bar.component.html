<div class="status-bar-container">
	<div class="status-bar">
		<div class="left-side" *ngIf="!hideOverlay">
			<div class="back-to-world-view" [hidden]="!overlay">
				<button (click)="clickBackToWorldView()">Back to base map</button>
			</div>

			<div class="middle">
				<ansyn-overlay-text [overlay]="overlay"></ansyn-overlay-text>
			</div>

			<ansyn-overlays-status-notifications
				[notInCase]="overlayNotInCase"
				[geoRegisteration]="showGeoRegistrationError()">
			</ansyn-overlays-status-notifications>

		</div>

		<div class="right-side">

			<div class="selected-case layout-item pop-on-hover">
				<img src="/assets/icons/status-bar/case-icon.svg" class="status-bar-image-left">
				<span class="name">{{selected_case_name}}</span>

				<div class="pop-hover">
					<div class="pop-hover-content">

						<button class="share-link" (click)="copyLink()">
							<span class="icon-status-bar--share-link"></span>
							<span>Share link</span>
						</button>

					</div>
				</div>
			</div>


			<div class="selection-combobox layout-item type-selection">

				<div class='status-bar-orientation-icon'>
					<img src="/assets/icons/status-bar/orientation-icon.svg" class="status-bar-image-left">
				</div>

				<select name="orientation" [(ngModel)]="orientation" (ngModelChange)="orientationChange(orientation)">
					<option [value]="o" *ngFor="let o of orientations">{{o | titlecase}}</option>
				</select>

			</div>


			<div class="selection-combobox layout-item geo-selection">
				<div class='status-bar-world-icon'>
					<img src="/assets/icons/status-bar/geo-filter-icon.svg" class="status-bar-image-left">
				</div>


				<select name="timeline" name="geoFilter" [(ngModel)]="geoFilter"
						(ngModelChange)="geoFilterChange(geoFilter)">
					<option *ngFor="let geo of geoFilters" [value]="geo">{{geo | titlecase}}</option>
				</select>

				<div class="status-bar-edit-icon" [class.active]="flags.get(statusBarFlagsItems.pinPointSearch)">
					<img (click)="toggleMapPointSearch()" src="/assets/edit.svg" alt="" class="status-bar-image-right">
				</div>
				<div class='status-bar-eye-icon' [class.active]="flags.get(statusBarFlagsItems.pinPointIndicator)">
					<img (click)="togglePinPointIndicatorView()" src="/assets/eye.svg" alt=""
						 class="status-bar-image-right">
				</div>
			</div>


			<div class="selection-combobox layout-item time-selection">
				<div class="status-bar-calender-icon">
					<img src="/assets/icons/status-bar/time-filter-icon.svg" class="status-bar-image-left">
				</div>
				<select name="guery-timeline">
					<option>Start - End</option>
				</select>
				<div class="status-bar-edit-icon" [class.active]="timeSelectionEditIcon">
					<img (click)="toggleTimelineStartEndSearch()" src="/assets/edit.svg" alt=""
						 class="status-bar-image-right">
				</div>
				<div class="pop-hover" [class.visible]="timeSelectionEditIcon">
					<div class="pop-hover-content">
						<ansyn-timeline-timepicker
							[startDatePickerValue]="(time)?.from"
							[endDatePickerValue]="(time)?.to"
							(closeComponent)="toggleTimelineStartEndSearch()"
							(applyDate)="applyTimelinePickerResult($event)">

						</ansyn-timeline-timepicker>
					</div>
				</div>

			</div>

			<div class="layout-combobox layout-item">
				<img src="/assets/icons/status-bar/no-of-screen-icon.svg" class="status-bar-image-left" hidden>
				<ansyn-combo-box
					[options]="layouts"
					[(selectedIndex)]="selected_layout_index"
					(selectedIndexChange)="layoutSelectChange(selected_layout_index)">
				</ansyn-combo-box>
			</div>

			<div class="overlays-count layout-item">
				<img src="/assets/icons/status-bar/imagery-count-icon.svg" class="status-bar-image-left">
				{{overlays_count}}
			</div>

		</div>

	</div>

	<div class="navigation-area">
		<button (click)="clickGoPrev()" #goPrev>
			<img src="/assets/icons/status-bar/prev-icon.svg"/>
		</button>

		<button (click)="clickFavorite()">
			<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"
				 viewBox="0 0 24 24" version="1.1">
				<title>Frame 17</title>
				<desc>Created using Figma</desc>
				<g id="Canvas" transform="translate(-27557 -5008)">
					<clipPath id="clip-0" clip-rule="evenodd">
						<path d="M 27557 5008L 27581 5008L 27581 5032L 27557 5032L 27557 5008Z" fill="#FFFFFF"/>
					</clipPath>
					<g id="Frame 17" clip-path="url(#clip-0)">
						<g id="Star" opacity="0.75">
							<g id="Rectangle 7">
								<use xlink:href="#path0_fill" transform="matrix(-1 0 0 1 27581 5008)" fill="#D8D8D8"
									 id="tmp"/>
							</g>
							<g id="star" opacity="0.75">
								<g id="Capa_1">
									<g id="Shape">
										<use xlink:href="#path1_fill" transform="matrix(-1 0 0 1 27577 5012.1)"
											 style="&#10;&#10;" #starColor/>
									</g>
								</g>
							</g>
						</g>
					</g>
				</g>
				<defs>
					<path id="path0_fill" fill-rule="evenodd" d="M 0 0L 24 0L 24 24L 0 24L 0 0Z"/>
					<path id="path1_fill"
						  d="M 7.98044 0L 10.4462 5.18892L 15.9606 6.02123L 11.9704 10.06L 12.9123 15.7634L 7.98044 13.0708L 3.0483 15.7634L 3.99022 10.06L 0 6.02123L 5.51437 5.18892L 7.98044 0Z"/>
				</defs>
			</svg>
		</button>

		<button (click)="clickGoNext()" #goNext>
			<img src="/assets/icons/status-bar/next-icon.svg"/>
		</button>

		<button class="expand" (click)="clickExpand()">
			<img src="/assets/icons/status-bar/expand-icon.svg"/>
		</button>
	</div>

</div>

<ansyn-toast [showToast]="showLinkCopyToast" duration="4" (showToastChange)="onShowToastChange($event)"
			 text="Link copied to clipboard"></ansyn-toast>
