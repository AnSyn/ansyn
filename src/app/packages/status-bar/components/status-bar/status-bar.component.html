<ansyn-imagery-status
	*ngIf="!hideOverlay"
	[overlay]="overlay"
	[notInCase]="overlayNotInCase"
	[active]="true"
	[disableGeoOptions]="showGeoRegistrationError()"
	[isFavoriteOverlayDisplayed]="isFavoriteOverlayDisplayed"
	(backToWorldView)="clickBackToWorldView()">
</ansyn-imagery-status>

<div class="status-bar" [class.show-separator]="!hideOverlay">
	<!-- Selected Case -->
	<div class="block pop-hover">
		<i class="icon-status-bar-case"></i>
		<span>{{selectedCaseName}}</span>

		<div class="pop-content">
			<button class="share-link" (click)="copyLink()">
				<i class="icon-status-bar-share-link"></i>
				<span>Share link</span>
			</button>
		</div>
	</div>

	<!-- Orientation -->
	<div class="action block">
		<i class="icon-status-bar-orientation"></i>
		<ansyn-combo-box
			[options]="orientations"
			[(selectedIndex)]="orientation"
			(selectedIndexChange)="orientationChange(orientation)">
		</ansyn-combo-box>
	</div>

	<!-- Geo point -->
	<div class="action">
		<div class="block">
			<i class="icon-status-bar-geo"></i>
			<ansyn-combo-box
				[options]="geoFilters"
				[(selectedIndex)]="geoFilter"
				(selectedIndexChange)="geoFilterChange(geoFilter)">
			</ansyn-combo-box>
		</div>
		<div class="buttons">
			<button (click)="togglePinPointIndicatorView()"
					[class.active]="flags.get(statusBarFlagsItems.pinPointIndicator)">
				<i class="icon-status-bar-show-pin-point"></i>
			</button>
			<button (click)="toggleMapPointSearch()"
					[class.active]="flags.get(statusBarFlagsItems.pinPointSearch)">
				<i class="icon-edit"></i>
			</button>
		</div>
	</div>

	<!-- Time -->
	<div class="action">
		<div class="block">
			<i class="icon-status-bar-time"></i>
			<ansyn-combo-box
				[options]="timeLines"
				[(selectedIndex)]="timeLine">
			</ansyn-combo-box>
		</div>
		<div class="buttons">
			<button (click)="toggleTimelineStartEndSearch()"
					[class.active]="timeSelectionEditIcon">
				<i class="icon-edit"></i>
			</button>
		</div>
		<div class="pop-content" [class.visible]="timeSelectionEditIcon">
			<ansyn-timeline-timepicker
				[startDatePickerValue]="(time)?.from"
				[endDatePickerValue]="(time)?.to"
				(closeComponent)="toggleTimelineStartEndSearch()"
				(applyDate)="applyTimelinePickerResult($event)">
			</ansyn-timeline-timepicker>
		</div>
	</div>

	<!-- Layout -->
	<div class="action block">
		<ansyn-combo-box
			[options]="layouts"
			[(selectedIndex)]="selectedLayoutIndex"
			(selectedIndexChange)="layoutSelectChange(selectedLayoutIndex)">
		</ansyn-combo-box>
	</div>

	<!-- Overlays -->
	<div class="block">
		<i class="icon-status-bar-imagery-count"></i>
		<span>{{overlaysCount}}</span>
	</div>
</div>

<div class="navigation">
	<button (click)="clickGoPrev()" [class.active]="goPrevActive">
		<i class="icon-status-bar-prev"></i>
	</button>

	<button (click)="clickGoNext()" [class.active]="goNextActive">
		<i class="icon-status-bar-next"></i>
	</button>

	<button class="transparent" (click)="clickTime()">
		<i class="icon-annotation-square"></i>
	</button>

	<button class="transparent" (click)="clickExpand()">
		<i class="icon-status-bar-expand"></i>
	</button>
</div>
