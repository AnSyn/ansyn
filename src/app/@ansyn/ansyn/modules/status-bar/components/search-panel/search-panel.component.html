<div class="search-panel" [ngClass]="'rtl' === ('direction' | translate) ? 'rtl' : ''">

	<div class="search-title">{{'Search' | translate}}:</div>
	<!-- Time -->
	<div class="box">
<!--		<button ansynComboBoxTrigger-->
<!--				#timePickerTrigger-->
<!--				(click)="toggleTimePickerPreset()"-->
<!--				[attr.tooltip-value]="statusBarConfig?.toolTips?.timeFilterEdit | translate"-->
<!--				[isActive]="timePickerExpand"-->
<!--				[withArrow]="false"-->
<!--				icon="icon icon-status-bar-time"-->
<!--				tooltip-class="top"-->
<!--				class="search-panel-button">-->
<!--			<span class="title">{{timeSelectionTitle}}</span>-->
<!--		</button>-->

		<ansyn-combo-box
			#timePickerTrigger
			ansynComboBoxTrigger
			direction="top"
			name="GeoFilter"
			class="search-panel-button"
			[comboBoxToolTipDescription]="statusBarConfig?.toolTips?.timeFilterEdit | translate"
			[withArrow]="false"
			[alwaysChange]="false"
			[placeholder]="timeSelectionTitle"
			[ngModel]="timeSelectionTitle"
			(ngModelChange)="selectPreset($event)">
			<ansyn-combo-box-option *ngFor="let presetDay of presetDays" [value]="presetDay">
				{{ presetDay | translate}}
			</ansyn-combo-box-option>
		</ansyn-combo-box>

		<ansyn-timepicker *ngIf="timePickerExpand"
						  [timeRange]="timeRange"
						  (ansynClickOutside)="toggleTimePicker()"
						  [extraClass]="'owl-dt-container'"
						  (closeTimePicker)="toggleTimePicker()"
						  [trigger]="timePickerTrigger?.optionsTrigger?.nativeElement"
		></ansyn-timepicker>
	</div>

	<!-- Geo filter -->
	<div class="box" id="editGeoFilter">

		<ansyn-combo-box
			[buttonClass]="'search-panel-button'"
			direction="top"
			name="GeoFilter"
			[comboBoxToolTipDescription]="statusBarConfig?.toolTips?.geoFilter | translate"
			[withArrow]="false"
			[alwaysChange]="true"
			icon="icon icon-status-bar-geo small"
			[ngModel]="geoFilterTitle"
			(ngModelChange)="geoFilterChanged($event)">

			<ansyn-combo-box-option *ngFor="let _geoFilter of geoFilters" [value]="_geoFilter">
				{{ _geoFilter | translate}}
			</ansyn-combo-box-option>

		</ansyn-combo-box>
	</div>

	<!-- data input filter-->
	<div class="box">
		<button ansynComboBoxTrigger
				#trigger
				(click)="toggleDataInputFilterIcon()"
				icon="icon icon-input-filter small"
				[isActive]="dataInputFilterExpand"
				[withArrow]="false"
				[attr.tooltip-value]="statusBarConfig?.toolTips?.dataInputFilter | translate"
				tooltip-class="top"
				class="search-panel-button">
			<span class="title">{{'Data Inputs' | translate}} - {{ dataInputFilterTitle | translate }}</span>
		</button>

		<ansyn-tree-view
			*ngIf="dataInputFilterExpand"
			(ansynClickOutside)="toggleDataInputFilterIcon()"
			[trigger]="trigger?.optionsTrigger?.nativeElement"
			(closeTreeView)="toggleDataInputFilterIcon()"
			(dataInputTitleChange)="updateDataInputTitle($event)"
			class="ansyn-tree-view"></ansyn-tree-view>
	</div>
</div>
